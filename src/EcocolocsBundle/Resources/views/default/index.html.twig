{% extends 'base.html.twig' %}

{% block body %}
        <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.4.4/leaflet.css" />
        <script src="http://cdn.leafletjs.com/leaflet-0.4.4/leaflet.js"></script>

    <div class="container">
        <h1>Mouvement des Colocs en transition</h1>
        <div class="center ">
            Ce réseau a pour objectif de mettre en relation des colocations en transition
            afin de se motiver et s’entraider à la mise en place d’actions concrètes pour un mode de vie plus résilient.
        </div>
        <div>
            <iframe width="100%" height="300px" frameBorder="0" src="https://umap.openstreetmap.fr/fr/map/cartto-des-eco-colocs_122760?scaleControl=false&miniMap=false&scrollWheelZoom=true&zoomControl=true&allowEdit=false&moreControl=true&searchControl=null&tilelayersControl=null&embedControl=null&datalayersControl=true&onLoadPanel=databrowser&captionBar=false#6/47.702/4.933">
            </iframe>
        </div>

    </>


    {# CARTE OPEN STREET MAP
    <iframe width="425" height="350" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="http://www.openstreetmap.org/export/embed.html?bbox=-6.8115234375%2C42.261049162113856%2C8.591308593750002%2C51.06901665960392&amp;layer=mapnik" style="border: 1px solid black">

    </iframe>
    <br/>
    <small>
        <a href="http://www.openstreetmap.org/#map=6/46.845/0.890">
            View Larger Map
        </a>
    </small>#}

    <h1>Site des éco-colocs</h1>
    <div id="map" style="height:100%;" class="leaflet-container-default"></div>

        <script>
            var map;
            /* initialisation de la fonction initmap */
            function initmap() {
                // paramÃ©trage de la carte
                map = new L.Map('map');
                // crÃ©ation des "tiles" avec open street map
                var osmUrl='http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png';
                var osmAttrib='Map data de OpenStreetMap';
                var osm = new L.TileLayer(osmUrl, {minZoom: 2, maxZoom: 10, attribution: osmAttrib});           
                // on centre sur la France
                map.setView(new L.LatLng(46.85, 2.3518),6);
                map.addLayer(osm);
            }

            function addmarker(){
                mark = new L.marker([46.85,2.3518]).addTo(map)
                .bindPopup('A pretty CSS3 popup.<br> Easily customizable.')
                mark2 = new L.marker([47.85,2.3518]).addTo(map)
                .bindPopup('test.')
            }
            function openpopup(){
                mark.openPopup();
            }
            /* on va procÃ©der Ã  l'initialisation de la carte */
            initmap();
            addmarker();
            openpopup();
        </script>


{% endblock body %}